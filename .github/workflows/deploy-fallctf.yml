name: Deploy (fallctf.com)
on:
  push:
    paths:
      - _global/**
      - fallctf.com/**
      - .github/**
concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true
jobs:
  deploy:
    permissions:
      contents: read
      deployments: write
    uses: ./.github/workflows/_deploy_astro_site.yml
    secrets: inherit
    with:
      working_dir: fallctf.com
      build_dir: dist
      cf_api_token: ${{ secrets.CLOUDFLARE_PAGES_API_TOKEN }}
      cf_account_id: ${{ secrets.CLOUDFLARE_ACCOUNT_ID }}
      cf_project_name: ${{ vars.CLOUDFLARE_PROJECT_NAME_FALLCTF }}